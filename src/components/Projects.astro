---
import type { Project } from '@/types/projects'
import projectsData from '@/data/projects.json'
import ProjectCard from '@/components/ProjectCard.astro'

const projects = projectsData.projects.slice(0, 6) as Project[]
---

<section id="projects" class="dark-section">
  <div class="container">
    <div class="section-header">
      <h2>Proyectos</h2>
      <p>
        Una selección de los proyectos más destacados en los que he trabajado
        recientemente.
      </p>
    </div>
    <div class="projects-grid">
      {
        projects.map(
          ({ title, description, image, demoUrl, githubUrl, tags }) => (
            <ProjectCard
              title={title}
              description={description}
              imagePath={`/src/assets/${image}`}
              demoUrl={demoUrl}
              githubUrl={githubUrl}
              tags={tags}
            />
          )
        )
      }
    </div>
  </div>
</section>

<style>
  .dark-section {
    background-color: var(--dark-blue);
    padding: 4rem 0;
  }

  @media screen and (width >= 768px) {
    .dark-section {
      padding: 6rem 0;
    }
  }

  .section-header {
    margin-bottom: 3rem;
    text-align: center;
  }

  .section-header h2 {
    color: var(--white);
  }

  .section-header p {
    color: var(--gray-300);
  }

  .projects-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(1, minmax(0px, 1fr));
  }

  @media screen and (width >= 640px) {
    .projects-grid {
      grid-template-columns: repeat(2, minmax(0px, 1fr));
    }
  }

  @media screen and (width >= 1024px) {
    .projects-grid {
      grid-template-columns: repeat(3, minmax(0px, 1fr));
    }
  }
</style>
